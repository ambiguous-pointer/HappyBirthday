<!doctype html>
<html lang="zh">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Happy Birthday to you</title>
	<link rel="stylesheet" type="text/css" href="../static/css/img.css">
</head>

<body>
	<div class='begin'>开始</div>
	<div class="left">
		<ul class="img-ul">
			<li class="img-li">
				<div>
					<p>天气晴朗，万物可爱</p>

				</div>
			</li>
			<li class="img-li">
				<div>
					<p>我会在每一个有意义的时刻，远隔山海祝你快乐</p>
				</div>
			</li>
			<li class="img-li">
				<div>
					<p>希望所有俗套的祝福语都在你身上应验</p>
				</div>
			</li>
			<li class="img-li">
				<div>
					<p>当然今天可是一个很重要的日子呀</p>
					<p>记得一定要快乐哟</p>
					<p>叫上闺蜜们去外面好好吃一顿</p>
				</div>
			</li>
		</ul>
	</div>

	<div class="left">
		<ul class="img-ul">
			<li class="img-li">
				<div>
					<p>全糖去冰，星河长明</p>
					<p>三餐四季，喜乐安宁</p>
					<p>笑容坦荡，皱纹全平</p>
					<p>干吃不胖，袅袅婷婷</p>
					<p>考试都过，拼搏全赢</p>
					<p>眼里有光，福至心灵</p>
					<p>事事顺意，天天好心情！</p>
				</div>
			</li>
		</ul>
	</div>

	<div class="htmleaf-container">
		<div class="wrapper">
			<ul class="bg-bubbles">
				<li><img src="../static/images/birthday.gif" style="width: 100%;"></li>
				<li><img src="../static/images/birthday.gif" style="width: 100%;"></li>
				<li><img src="../static/images/birthday.gif" style="width: 100%;"></li>
				<li><img src="../static/images/birthday.gif" style="width: 100%;"></li>
				<li><img src="../static/images/birthday.gif" style="width: 100%;"></li>
				<li><img src="../static/images/birthday.gif" style="width: 100%;"></li>
				<li><img src="../static/images/birthday.gif" style="width: 100%;"></li>
				<li><img src="../static/images/birthday.gif" style="width: 100%;"></li>
				<li><img src="../static/images/birthday.gif" style="width: 100%;"></li>
				<li><img src="../static/images/birthday.gif" style="width: 100%;"></li>
			</ul>
		</div>
	</div>

	<script src="../static/js/jquery-3.7.1.js" type="text/javascript"></script>
	<script type="text/javascript">
		$(function () {

			var li = $('.img-li');
			var leng = li.length;
			var i = 0;

			function feiru() {
				if ((leng - 1) > i) {
					setTimeout(function () {
						var a = new animateFct(i);
						console.log(i);
						if (i == 7) {
							setTimeout(() => {
								$('.begin').text("至此，结束");
								$('.begin').fadeIn();
								$('.begin').text("祝我们未来可期");
								$('.begin').fadeIn();
								setTimeout(() => {
									$('.begin').empty();
								}, 4000)
							}, 4000)
							return;
						}
						feiru();
						i++;
					}, 1000);
				}
			};

			function animateFct(i) {
				var randTBArr = new Array('top', 'bottom');
				var randLRArr = new Array('right', 'left');
				var data = {};
				var c = Math.floor((Math.random() * 2) + 1);
				li.eq(i).css(randTBArr[c - 1], '-100%');
				var d = Math.floor((Math.random() * 2) + 1);
				li.eq(i).css(randLRArr[d - 1], '-100%');
				li.eq(i).css('z-index', i)
				var n = Math.floor((Math.random() * 30) + (-30));
				li.eq(i).css({ transform: "rotate(" + n + "deg)" })
				li.eq(i).find('img').css({ width: '250px', height: '350px' })
				li.eq(i).show();
				if (parseInt(li.eq(i).css('top')) < 0) {
					data.top = parseInt(Math.random() * 15 + 15) + "%";
				}
				if (parseInt(li.eq(i).css('left')) < 0) {
					data.left = parseInt(Math.random() * 15 + 15) + "%";
				}
				if (parseInt(li.eq(i).css('right')) < 0) {
					data.right = parseInt(Math.random() * 15 + 15) + "%";
				}
				if (parseInt(li.eq(i).css('bottom')) < 0) {
					data.bottom = parseInt(Math.random() * 15 + 15) + "%";
				}
				li.eq(i).stop().animate(data, 3000);
			}

			var beg = $('.begin');
			beg.click(function () {
				$(this).hide();
				// $('audio')[0].play();
				feiru();

			});
		})
	</script>
</body>

</html>